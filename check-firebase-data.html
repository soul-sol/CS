<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Firebase 데이터 확인</title>
</head>
<body>
    <h1>Firebase 멤버 데이터 확인</h1>
    <div id="result"></div>
    
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-database-compat.js"></script>
    
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyDKLNkEgvT9x5HqZTDQoR_4vvJLZpTQPxE",
            authDomain: "cs-homepage-5c3c2.firebaseapp.com",
            databaseURL: "https://cs-homepage-5c3c2-default-rtdb.firebaseio.com",
            projectId: "cs-homepage-5c3c2",
            storageBucket: "cs-homepage-5c3c2.appspot.com",
            messagingSenderId: "297914930278",
            appId: "1:297914930278:web:d0b96e0b5e9c9c5f8f8f8f"
        };

        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        
        database.ref('members').once('value').then((snapshot) => {
            const members = snapshot.val();
            const result = document.getElementById('result');
            
            if (members) {
                const memberCount = Object.keys(members).length;
                let html = `<h2>총 ${memberCount}명의 멤버가 있습니다</h2>`;
                
                Object.entries(members).forEach(([key, member]) => {
                    html += `<p>${member.name || key}: ${member.status || 'no status'}</p>`;
                });
                
                result.innerHTML = html;
                console.log('멤버 데이터:', members);
            } else {
                result.innerHTML = '<h2 style="color: red;">멤버 데이터가 없습니다!</h2>';
                console.log('No members found');
            }
        }).catch(error => {
            document.getElementById('result').innerHTML = `<h2 style="color: red;">에러: ${error.message}</h2>`;
            console.error('Firebase error:', error);
        });
    </script>
</body>
</html>
