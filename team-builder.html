<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CountShot Clan - Team Builder</title>
    <link rel="stylesheet" href="css/style-ultimate.css">
    <link rel="stylesheet" href="css/team-builder-ultimate.css">
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Exo+2:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <!-- Ìó§Îçî -->
        <header class="main-header">
            <div class="header-gif">
                <img src="GIF.gif" alt="CountShot" class="header-logo-gif">
            </div>
            <div class="header-text">
                <h1 class="page-title">CountShot Team Builder</h1>
                <p class="subtitle">ÏûêÎèô ÌåÄ Íµ¨ÏÑ± ÏãúÏä§ÌÖú</p>
            </div>
            <nav class="header-nav">
                <a href="index.html" class="nav-link">Ìã∞Ïñ¥ Í¥ÄÎ¶¨</a>
                <a href="members.html" class="nav-link">Î©§Î≤Ñ Í¥ÄÎ¶¨</a>
                <a href="team-builder.html" class="nav-link active">ÌåÄ ÎπåÎçî</a>
                <a href="stats.html" class="nav-link">ÌÜµÍ≥Ñ Î∂ÑÏÑù</a>
            </nav>
        </header>

        <div class="team-builder-container">
            <!-- ÏôºÏ™Ω: Î©§Î≤Ñ ÏÑ†ÌÉù ÏòÅÏó≠ -->
            <div class="member-selection">
                <div class="selection-header">
                    <h2>Î©§Î≤Ñ ÏÑ†ÌÉù</h2>
                    <div class="selection-info">
                        <span>ÏÑ†ÌÉùÎêú Î©§Î≤Ñ: <strong id="selectedCount">0</strong>Î™Ö</span>
                        <button id="selectAllBtn" class="btn-secondary">Ï†ÑÏ≤¥ ÏÑ†ÌÉù</button>
                        <button id="deselectAllBtn" class="btn-secondary">Ï†ÑÏ≤¥ Ìï¥Ï†ú</button>
                    </div>
                </div>

                <!-- Ìã∞Ïñ¥Î≥Ñ Î©§Î≤Ñ Î™©Î°ù -->
                <div class="tier-sections">
                    <div class="tier-section" id="tier1Section">
                        <h3 class="tier-section-title tier-gold">
                            <span class="tier-icon">üëë</span> 1Ìã∞Ïñ¥
                        </h3>
                        <div class="member-checkbox-list" id="tier1Members">
                            <!-- 1Ìã∞Ïñ¥ Î©§Î≤ÑÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier2Section">
                        <h3 class="tier-section-title tier-red">
                            <span class="tier-icon">üî•</span> 2Ìã∞Ïñ¥
                        </h3>
                        <div class="member-checkbox-list" id="tier2Members">
                            <!-- 2Ìã∞Ïñ¥ Î©§Î≤ÑÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier3Section">
                        <h3 class="tier-section-title tier-green">
                            <span class="tier-icon">üåü</span> 3Ìã∞Ïñ¥
                        </h3>
                        <div class="member-checkbox-list" id="tier3Members">
                            <!-- 3Ìã∞Ïñ¥ Î©§Î≤ÑÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier4Section">
                        <h3 class="tier-section-title tier-blue">
                            <span class="tier-icon">‚öîÔ∏è</span> 4Ìã∞Ïñ¥
                        </h3>
                        <div class="member-checkbox-list" id="tier4Members">
                            <!-- 4Ìã∞Ïñ¥ Î©§Î≤ÑÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>

                    <div class="tier-section" id="unassignedSection">
                        <h3 class="tier-section-title tier-gray">
                            <span class="tier-icon">üìã</span> Î¨¥ÏÜåÏÜç
                        </h3>
                        <div class="member-checkbox-list" id="unassignedMembers">
                            <!-- Î¨¥ÏÜåÏÜç Î©§Î≤ÑÎì§Ïù¥ Ïó¨Í∏∞Ïóê ÌëúÏãúÎê©ÎãàÎã§ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ïò§Î•∏Ï™Ω: ÌåÄ Íµ¨ÏÑ± ÏÑ§Ï†ï Î∞è Í≤∞Í≥º -->
            <div class="team-configuration">
                <!-- ÌåÄ Íµ¨ÏÑ± ÏòµÏÖò -->
                <div class="team-options">
                    <div class="options-header">
                        <h2>
                            <span class="options-icon">‚öôÔ∏è</span>
                            ÌåÄ Íµ¨ÏÑ± ÏÑ§Ï†ï
                        </h2>
                    </div>
                    
                    <div class="options-grid">
                        <div class="option-card">
                            <div class="option-card-header">
                                <span class="option-icon">üë•</span>
                                <h3>ÌåÄ Í∞úÏàò</h3>
                            </div>
                            <div class="option-card-body">
                                <div class="team-count-selector">
                                    <button class="count-btn minus" onclick="changeTeamCount(-1)">-</button>
                                    <input type="number" id="teamCount" min="2" max="10" value="4" class="team-count-display">
                                    <button class="count-btn plus" onclick="changeTeamCount(1)">+</button>
                                </div>
                                <p class="option-description">2~10ÌåÄÍπåÏßÄ Í∞ÄÎä•</p>
                            </div>
                        </div>

                        <div class="option-card">
                            <div class="option-card-header">
                                <span class="option-icon">üëë</span>
                                <h3>1Ìã∞Ïñ¥ Î∞∞Ïπò</h3>
                            </div>
                            <div class="option-card-body">
                                <label class="switch-label">
                                    <input type="checkbox" id="requireTier1" checked>
                                    <span class="switch-slider"></span>
                                </label>
                                <p class="option-description">Í∞Å ÌåÄÏóê ÏµúÏÜå 1Î™Ö</p>
                            </div>
                        </div>

                        <div class="option-card">
                            <div class="option-card-header">
                                <span class="option-icon">üî•</span>
                                <h3>2Ìã∞Ïñ¥ Î∞∞Ïπò</h3>
                            </div>
                            <div class="option-card-body">
                                <label class="switch-label">
                                    <input type="checkbox" id="requireTier2">
                                    <span class="switch-slider"></span>
                                </label>
                                <p class="option-description">Í∞Å ÌåÄÏóê ÏµúÏÜå 1Î™Ö</p>
                            </div>
                        </div>

                        <div class="option-card">
                            <div class="option-card-header">
                                <span class="option-icon">‚öñÔ∏è</span>
                                <h3>Ïã§Î†• Í∑†Ìòï</h3>
                            </div>
                            <div class="option-card-body">
                                <label class="switch-label">
                                    <input type="checkbox" id="balanceByStats">
                                    <span class="switch-slider"></span>
                                </label>
                                <p class="option-description">KDA Í∏∞Ï§Ä Î∞∏Îü∞Ïä§</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÌåÄ Íµ¨ÏÑ± Í≤∞Í≥º -->
                <div class="team-results" id="teamResults">
                    <h2>ÌåÄ Íµ¨ÏÑ± Í≤∞Í≥º</h2>
                    <div id="teamsDisplay" class="teams-display">
                        <p class="no-teams">ÌåÄÏùÑ ÏÉùÏÑ±ÌïòÎ†§Î©¥ Î©§Î≤ÑÎ•º ÏÑ†ÌÉùÌïòÍ≥† 'ÌåÄ ÏÉùÏÑ±ÌïòÍ∏∞' Î≤ÑÌäºÏùÑ ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî.</p>
                    </div>
                    
                    <div class="result-actions hidden" id="resultActions">
                        <button id="reshuffleBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 4v6h6M23 20v-6h-6"></path>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            Îã§Ïãú ÏÑûÍ∏∞
                        </button>
                        <button id="copyResultBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            Í≤∞Í≥º Î≥µÏÇ¨
                        </button>
                    </div>
                </div>

                <!-- ÌåÄ ÏÉùÏÑ± Î≤ÑÌäº -->
                <div class="generate-button-container">
                    <!-- Î©îÏãúÏßÄ ÌëúÏãú ÏòÅÏó≠ (Î≤ÑÌäº Î∞îÎ°ú ÏúÑ) -->
                    <div id="message" class="message hidden"></div>
                    
                    <button id="generateTeamsBtn" class="btn-generate-teams">
                        <span class="btn-glow"></span>
                        <span class="btn-content">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M12 6v12m-6-6h12"></path>
                            </svg>
                            ÌåÄ ÏÉùÏÑ±ÌïòÍ∏∞
                        </span>
                    </button>
                </div>
            </div>
        </div>

    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";
        import { getAuth, signInAnonymously, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-auth.js";
        
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCWEWmussrZcqv4LgCvjUdcuzRcaUST3Ls",
            authDomain: "cs-homepage-5c3c2.firebaseapp.com",
            databaseURL: "https://cs-homepage-5c3c2-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "cs-homepage-5c3c2",
            storageBucket: "cs-homepage-5c3c2.firebasestorage.app",
            messagingSenderId: "117726976721",
            appId: "1:117726976721:web:f9dd3297e82113414183f0",
            measurementId: "G-9XZ9SJ3D78"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        const auth = getAuth(app);
        
        // ÏùµÎ™Ö Ïù∏Ï¶ùÏúºÎ°ú ÏûêÎèô Î°úÍ∑∏Ïù∏
        signInAnonymously(auth)
            .then(() => {
                console.log('ÏùµÎ™Ö Ïù∏Ï¶ù ÏÑ±Í≥µ');
            })
            .catch((error) => {
                console.error('ÏùµÎ™Ö Ïù∏Ï¶ù Ïã§Ìå®:', error);
            });
        
        // Ïù∏Ï¶ù ÏÉÅÌÉú Î¶¨Ïä§ÎÑà
        onAuthStateChanged(auth, (user) => {
            if (user) {
                console.log('Ïù∏Ï¶ùÎê® - UID:', user.uid);
            } else {
                console.log('Ïù∏Ï¶ùÎêòÏßÄ ÏïäÏùå');
            }
        });
        
        // FirebaseÎ•º Ï†ÑÏó≠ÏúºÎ°ú ÏÇ¨Ïö© Í∞ÄÎä•ÌïòÍ≤å ÏÑ§Ï†ï
        window.firebaseDB = {
            database: database,
            ref: ref,
            onValue: onValue
        };
    </script>
    <script src="js/team-builder.js"></script>
</body>
</html>
