<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CountShot Clan - Team Builder</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="team-builder.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- í—¤ë” -->
        <header class="main-header">
            <div class="header-gif">
                <img src="GIF.gif" alt="CountShot" class="header-logo-gif">
            </div>
            <div class="header-text">
                <h1 class="page-title">CountShot Team Builder</h1>
                <p class="subtitle">ìë™ íŒ€ êµ¬ì„± ì‹œìŠ¤í…œ</p>
            </div>
            <nav class="header-nav">
                <a href="index.html" class="nav-link">í‹°ì–´ ê´€ë¦¬</a>
                <a href="members.html" class="nav-link">ë©¤ë²„ ìƒíƒœ</a>
                <a href="team-builder.html" class="nav-link active">íŒ€ ë¹Œë”</a>
            </nav>
        </header>

        <div class="team-builder-container">
            <!-- ì™¼ìª½: ë©¤ë²„ ì„ íƒ ì˜ì—­ -->
            <div class="member-selection">
                <div class="selection-header">
                    <h2>ë©¤ë²„ ì„ íƒ</h2>
                    <div class="selection-info">
                        <span>ì„ íƒëœ ë©¤ë²„: <strong id="selectedCount">0</strong>ëª…</span>
                        <button id="selectAllBtn" class="btn-secondary">ì „ì²´ ì„ íƒ</button>
                        <button id="deselectAllBtn" class="btn-secondary">ì „ì²´ í•´ì œ</button>
                    </div>
                </div>

                <!-- í‹°ì–´ë³„ ë©¤ë²„ ëª©ë¡ -->
                <div class="tier-sections">
                    <div class="tier-section" id="tier1Section">
                        <h3 class="tier-section-title tier-gold">
                            <span class="tier-icon">ğŸ‘‘</span> 1í‹°ì–´ - Elite
                        </h3>
                        <div class="member-checkbox-list" id="tier1Members">
                            <!-- 1í‹°ì–´ ë©¤ë²„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier2Section">
                        <h3 class="tier-section-title tier-red">
                            <span class="tier-icon">ğŸ”¥</span> 2í‹°ì–´ - Pro
                        </h3>
                        <div class="member-checkbox-list" id="tier2Members">
                            <!-- 2í‹°ì–´ ë©¤ë²„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier3Section">
                        <h3 class="tier-section-title tier-green">
                            <span class="tier-icon">ğŸŒŸ</span> 3í‹°ì–´ - Regular
                        </h3>
                        <div class="member-checkbox-list" id="tier3Members">
                            <!-- 3í‹°ì–´ ë©¤ë²„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <div class="tier-section" id="tier4Section">
                        <h3 class="tier-section-title tier-blue">
                            <span class="tier-icon">âš”ï¸</span> 4í‹°ì–´ - Rookie
                        </h3>
                        <div class="member-checkbox-list" id="tier4Members">
                            <!-- 4í‹°ì–´ ë©¤ë²„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>

                    <div class="tier-section" id="unassignedSection">
                        <h3 class="tier-section-title tier-gray">
                            <span class="tier-icon">ğŸ“‹</span> ë¬´ì†Œì†
                        </h3>
                        <div class="member-checkbox-list" id="unassignedMembers">
                            <!-- ë¬´ì†Œì† ë©¤ë²„ë“¤ì´ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤ -->
                        </div>
                    </div>
                </div>
            </div>

            <!-- ì˜¤ë¥¸ìª½: íŒ€ êµ¬ì„± ì„¤ì • ë° ê²°ê³¼ -->
            <div class="team-configuration">
                <!-- íŒ€ êµ¬ì„± ì˜µì…˜ -->
                <div class="team-options">
                    <h2>íŒ€ êµ¬ì„± ì˜µì…˜</h2>
                    
                    <div class="option-group">
                        <label for="teamCount">íŒ€ ê°œìˆ˜</label>
                        <input type="number" id="teamCount" min="2" max="10" value="4" class="input-number">
                        <span class="option-hint">2~10íŒ€ê¹Œì§€ ê°€ëŠ¥</span>
                    </div>

                    <div class="option-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="requireTier1" checked>
                            <span>ê° íŒ€ì— 1í‹°ì–´ ë©¤ë²„ ìµœì†Œ 1ëª… ë°°ì¹˜</span>
                        </label>
                        <span class="option-hint">1í‹°ì–´ ë©¤ë²„ë¥¼ ê° íŒ€ì— ê· ë“± ë°°ë¶„í•©ë‹ˆë‹¤</span>
                    </div>

                    <div class="option-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="balanceByStats">
                            <span>ì‹¤ë ¥ ê¸°ì¤€ ê· í˜• ë§ì¶”ê¸°</span>
                        </label>
                        <span class="option-hint">K/D ë¹„ìœ¨ì„ ê¸°ì¤€ìœ¼ë¡œ íŒ€ ë°¸ëŸ°ìŠ¤ë¥¼ ë§ì¶¥ë‹ˆë‹¤</span>
                    </div>

                    <button id="generateTeamsBtn" class="btn-primary">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 2v20M2 12h20"></path>
                        </svg>
                        íŒ€ ìƒì„±í•˜ê¸°
                    </button>
                </div>

                <!-- íŒ€ êµ¬ì„± ê²°ê³¼ -->
                <div class="team-results" id="teamResults">
                    <h2>íŒ€ êµ¬ì„± ê²°ê³¼</h2>
                    <div id="teamsDisplay" class="teams-display">
                        <p class="no-teams">íŒ€ì„ ìƒì„±í•˜ë ¤ë©´ ë©¤ë²„ë¥¼ ì„ íƒí•˜ê³  'íŒ€ ìƒì„±í•˜ê¸°' ë²„íŠ¼ì„ í´ë¦­í•˜ì„¸ìš”.</p>
                    </div>
                    
                    <div class="result-actions hidden" id="resultActions">
                        <button id="reshuffleBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M1 4v6h6M23 20v-6h-6"></path>
                                <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10m22 4l-4.64 4.36A9 9 0 0 1 3.51 15"></path>
                            </svg>
                            ë‹¤ì‹œ ì„ê¸°
                        </button>
                        <button id="copyResultBtn" class="btn-secondary">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect>
                                <path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path>
                            </svg>
                            ê²°ê³¼ ë³µì‚¬
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- ë¡œë”© ì¸ë””ì¼€ì´í„° -->
        <div id="loadingIndicator" class="loading hidden">
            <div class="spinner"></div>
            <p>íŒ€ì„ êµ¬ì„±í•˜ëŠ” ì¤‘...</p>
        </div>

        <!-- ë©”ì‹œì§€ -->
        <div id="message" class="message hidden"></div>
    </div>

    <!-- Firebase SDK -->
    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-app.js";
        import { getDatabase, ref, onValue } from "https://www.gstatic.com/firebasejs/12.2.1/firebase-database.js";
        
        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCWEWmussrZcqv4LgCvjUdcuzRcaUST3Ls",
            authDomain: "cs-homepage-5c3c2.firebaseapp.com",
            databaseURL: "https://cs-homepage-5c3c2-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "cs-homepage-5c3c2",
            storageBucket: "cs-homepage-5c3c2.firebasestorage.app",
            messagingSenderId: "117726976721",
            appId: "1:117726976721:web:f9dd3297e82113414183f0",
            measurementId: "G-9XZ9SJ3D78"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const database = getDatabase(app);
        
        // Firebaseë¥¼ ì „ì—­ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥í•˜ê²Œ ì„¤ì •
        window.firebaseDB = {
            database: database,
            ref: ref,
            onValue: onValue
        };
    </script>
    <script src="team-builder.js"></script>
</body>
</html>
